<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>practica programacion</title>
</head>
<body style="background-color: rgb(2, 202, 242);">
    <h1 class="texto-borde" style="color:rgb(0, 0, 0) ;">aprendiendo a programar 2</h1>
    <h3>Los ejercicios estaran en la consola</h3>
    <script>
        //TEMPORIZADORES SETTIMEOUT Y SETINTERVAL
        console.log("inicio");
        /*
        setTimeout(() => {
            console.log("este mensaje hecho por setTimeout se genera una vez, por el tiempo que se pone");
        }, 4000);

        setInterval(() => {
            console.log("este mensaje hecho por setInterval se genera indefinidamente cada cierto tiempo")
        }, 2000);
        */
       let temporizador = setTimeout(() => {
            console.log("hola me acabo de ejecutar")
       }, 1000);

       clearTimeout(temporizador);


       let temporizador2 = setInterval(() => {
            console.log("hola me acabo de ejecutar")
       }, 1000);

       clearInterval(temporizador2);
       //----------------------------------------------------------------------------------------------------------------
       //ASINCRONIA Y EL EVENT LOOP
       /* -procesamiento Single thread y multi thread
         -operaciones de cpu y operaciones input / output
         -operaciones concurrentes y paralelas
         -operaciones bloqueantes y no bloqueantes
         -operaciones sincronas y asincronas */

         //codigo sincrono bloqueante
         //usamos la funcion anonimas autoejecutables


         (() => {
            console.log("codigo sincrono");
            console.log("inicio");

            function dos() {
                console.log("dos");
            }

            function uno(){
                console.log("uno");
                dos();
                console.log("tres");
            }

            uno();
            console.log("fin");
         })();

         console.log("******************************");


         //codigo asincrono no bloqueante
         
         
         /*(() => {
            console.log("codigo asincrono");
            console.log("inicio");

            function dos() {
                setTimeout(function (){
                    console.log("dos");
                }, 1000);
            }

            function uno() {
                setTimeout(function (){
                    console.log("uno")
                }, 0);
                dos();
                console.log("tres");
            }

            uno();
            console.log("fin");
         })();*/
    //---------------------------------------------------------------------------------------------------------------
    //CALLBACKS-
    //callback hell o piramide del infierno
    //sirve para controlar la asincronia

    /*function cuadradoCallback(value, callback) {
        setTimeout(() => {
            callback(value, value * value);
        }, 0 | Math.random() * 1000);
    }

    cuadradoCallback(0, (value, result) => {
    console.log("inicia callBack");
    console.log(`Callback ${value}, ${result}`);
        cuadradoCallback(1, (value, result) => {
        console.log(`Callback ${value}, ${result}`);
            cuadradoCallback(2, (value, result) => {
            console.log(`Callback ${value}, ${result}`);
                cuadradoCallback(3, (value, result) => {
                console.log(`Callback ${value}, ${result}`);
                    cuadradoCallback(4, (value, result) => {
                    console.log(`Callback ${value}, ${result}`);
                        cuadradoCallback(5, (value, result) => {
                        console.log(`Callback ${value}, ${result}`);
                        })
                    })
                })
            })
        })
    })*/
    //-------------------------------------------------------------------------------------------------------
    //PROMESAS

    /*function cuadradoPromise(value) {
        if(typeof value !== "number") {
            return Promise.reject(`Error, el valor ${value} ingresado no es un numero`);
        }
        
        return new Promise((resolve, reject) => {
           setTimeout(() => {
            resolve({
                value,
                result: value * value
            });
        }, 0 | Math.random() * 1000); 
        });
    }

    cuadradoPromise(0) // problema si pones aca un no numero , te saldra error de codigo pero no el la consola
    .then(obj => {
        //console.log(obj)
        console.log("Inicio Promise");
        console.log(`Promise: ${obj.value}, ${obj.result}`);
        return cuadradoPromise(1);
    })
    .then(obj => {
        console.log(`Promise: ${obj.value}, ${obj.result}`);
        return cuadradoPromise(2);
    })
    .then(obj => {
        console.log(`Promise: ${obj.value}, ${obj.result}`);
        return cuadradoPromise(3);
    })
    .then(obj => {
        console.log(`Promise: ${obj.value}, ${obj.result}`);
        return cuadradoPromise(4);
    })
    .then(obj => {
        console.log(`Promise: ${obj.value}, ${obj.result}`);
        return cuadradoPromise(5);
    })
    .then(obj => {
        console.log(`Promise: ${obj.value}, ${obj.result}`);
        console.log("fin de la promesa")
    })
    .catch(err => console.error(err));*/
    //-----------------------------------------------------------------------------------------------------------------
    //constante con funcion
    const numeroCuadrado = (number = undefined) => {
        if(!number === undefined) return console.error("falta ingresar valor");
        if(typeof number !== "number") return console.error(`el valor ${number} no es un numero`);

        let alCuadrado = number * number;

        console.info(`numero: ${number}\nNumero al cuadrado: ${alCuadrado}`)
    }
    numeroCuadrado(4)

    const numeroSobre = (number = undefined, Sobre = undefined) => {
        if(!number === undefined) return console.error("falta ingresar valor");
        if(typeof number !== "number") return console.error(`el valor ${number} no es un numero`);
        if(!Sobre === undefined) return console.error("falta ingresar valor");
        if(typeof Sobre !== "number") return console.error(`el valor ${number} no es un numero`);

        let alCuadrado = number ** Sobre;

        console.info(`numero: ${number}\nNumero al cuadrado: ${alCuadrado}`)
    }
    numeroSobre(5,3)

    //clases
    
    class Informacion {
        constructor({nombre, edad, numeroCelular, correo}) {
            this._nombre = nombre;
            this._edad = edad;
            this._numeroCelular = numeroCelular;
            this._correo = correo;

                this.VerficarNombre(nombre);
                this.VerficarEdad(edad);
                this.VerficarCelular(numeroCelular);
        }
        ValidarString(valor, obj) {
            if(!obj === undefined) return console.warn("falto ingresar valor ");
            if(typeof obj !== "string") return console.error(`el ${obj} del ${valor} no es un objeto `);
        }
        ValidarNumber(valor, obj) {
            if(!obj === undefined) return console.warn("falto ingresar valor ");
            if(typeof obj !== "number") return console.error(`el ${obj} del ${valor} no es un objeto `);
        }


        VerficarNombre(nombre){
            this.ValidarString("nombre", nombre)
        }

        VerficarEdad(edad){
            this.ValidarNumber("edad", edad)
        }

        VerficarCelular(numeroCelular){
            if(this.ValidarNumber("numeroCelular", numeroCelular)){
                if(!(/^ [2-9] {2}\d {8}$ /.test(numeroCelular))){
                    return console.error(`${numeroCelular} no es un numero celular`)
                }
            }
        }

        informacionID(){
            console.info(`Nombre: ${this.nombre}\nEdad: ${this._edad}\nNumero Celular: ${numeroCelular}`)
        }
    }

    const Info = new Informacion ({
        nombre: "Josue",
        edad: 17,
        numeroCelular: 931231323
    })
    console.log(Info)
    //practica casi terminada
    //---------------------------------------------------------------------------------------------------------------------
    //ASYNC- AWAIT
    function cuadradoPromise(value) {
        if(typeof value !== "number") {
            return Promise.reject(`Error, el valor ${value} ingresado no es un numero`);
        }
        
        return new Promise((resolve, reject) => {
           setTimeout(() => {
            resolve({
                value,
                result: value * value
            });
        }, 0 | Math.random() * 1000); 
        });
    }
    async function funcionAsincronaDeclarada() {
        try {
            console.log(`Inicio Async Function`);

            let obj = await cuadradoPromise(0);
            console.log(`Async Function: ${obj.value}, ${obj.result}`);

            obj = await cuadradoPromise(1);
            console.log(`Async Function: ${obj.value}, ${obj.result}`);
            
            obj = await cuadradoPromise(2);
            console.log(`Async Function: ${obj.value}, ${obj.result}`);

            obj = await cuadradoPromise(3);
            console.log(`Async Function: ${obj.value}, ${obj.result}`);

            obj = await cuadradoPromise(4);
            console.log(`Async Function: ${obj.value}, ${obj.result}`);

            obj = await cuadradoPromise(5);
            console.log(`Async Function: ${obj.value}, ${obj.result}`);

            console.log("Fin Async function");

        } catch (err) {
            console.error(err)
        }
    }
    funcionAsincronaDeclarada();
    
    const funcionAsincronaExpresada = async () => {
        try {
            console.log(`Inicio Async Function`);

            let obj = await cuadradoPromise(6);
            console.log(`Async Function: ${obj.value}, ${obj.result}`);

            obj = await cuadradoPromise(7);
            console.log(`Async Function: ${obj.value}, ${obj.result}`);
            
            obj = await cuadradoPromise(8);
            console.log(`Async Function: ${obj.value}, ${obj.result}`);

            obj = await cuadradoPromise(9);
            console.log(`Async Function: ${obj.value}, ${obj.result}`);

            obj = await cuadradoPromise(10);
            console.log(`Async Function: ${obj.value}, ${obj.result}`);

            console.log("Fin Async function");
        } catch (err) {
            console.error(err);
        }
    }
    funcionAsincronaExpresada();
    //-----------------------------------------------------------------------------------------------------------------
    //SYMBOLS


   
    </script>
</body>
</html>